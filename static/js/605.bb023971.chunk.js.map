{"version":3,"file":"static/js/605.bb023971.chunk.js","mappings":"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","sources":["components/Cast/Cast.styled.jsx","components/Cast/Cast.jsx","components/ImageErrorView/ImageErrorView.styled.jsx","components/ImageErrorView/ImageErrorView.jsx","services/fetchAPI.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const ListStyled = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 20px);\n  grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));\n  grid-gap: 16px;  \n  padding: 20px 0;  \n  `;\n\nexport const ItemStyled = styled.li`\n  border-radius: 6px;\n  overflow: hidden;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  :hover,\n  :focus {\n    box-shadow: rgb(158, 158, 158) 0px 4px 10px 4px;\n  }\n`;\n\nexport const ImageStyled = styled.img`\n  width: 100%;\n  height: 210px;\n  object-fit: cover;\n`;\n\nexport const Name = styled.h4`\n  margin: 5px 15px;\n  text-align: center;\n  font-size: 16px;\n  line-height: 1.1;\n  letter-spacing: 0.03em;\n  color: #3f51b5;\n`;\n\nexport const Character = styled.p`\n  margin: 5px;\n  text-align: center;\n  font-size: 14px;\n  line-height: 1.1;\n  color: #212121;\n`;\n\nexport const Message = styled.p`\n  margin: 0 auto;\n  padding: 24px;\n  text-align: center;\n  color: #3f51b5;\n  font-size: 24px;\n  font-weight: 500;\n`;","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nimport { fetchMovieCast } from '../../services/fetchAPI';\nimport ImageErrorView from '../ImageErrorView';\nimport imageError from '../../images/error-oops.jpg';\nimport {\n  ListStyled,\n  ItemStyled,\n  ImageStyled,\n  Name,\n  Character,\n  Message,\n} from './Cast.styled';\nimport placeholder from '../../images/no-image.png';\n\nconst API_IMG_URL = `https://image.tmdb.org/t/p/w300/`;\n\nconst Cast = () => {\n  const [cast, setCast] = useState([]);\n  const [error, setError] = useState(null);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    setError(false);\n\n    const fetchMovies = async () => {\n      try {\n        const response = await fetchMovieCast(movieId);\n        if (response.length === 0) setError(true);\n        \n        setCast(response);\n      } catch (error) {\n        setError(true);\n        setCast(null)\n        console.error(error.message);\n        toast.error(\n          'Oops! Something went wrong. Please, reload the page and try again.'\n        );\n      }\n    };\n\n    fetchMovies();\n  }, [movieId]);\n\n  return (\n    <div>\n      {error && cast === null && (\n        <ImageErrorView\n          imageURL={imageError}\n          alt={'Something went wrong'}\n          width=\"600\"\n          message={\n            'Please, reload the page and try again.'\n          }\n        />\n      )}\n      {error && cast !== null && (\n        <Message>\n          We don't have information about the cast of this movie\n        </Message>\n      )}\n      {!error && cast && cast.length > 0 && (\n        <ListStyled>\n          {cast.map(({ id, profile_path, name, character }) => {\n            return (\n              <ItemStyled key={id}>\n                <ImageStyled\n                  src={profile_path ? API_IMG_URL + profile_path : placeholder}\n                  alt={name}\n                  loading=\"lazy\"\n                  width=\"120\"\n                />\n                <Name>{name}</Name>\n                <Character>{character}</Character>\n              </ItemStyled>\n            );\n          })}\n        </ListStyled>\n      )}\n    </div>\n  );\n};\n\nexport default Cast;\n","import styled from '@emotion/styled';\n\nexport const ErrorWrapper = styled.div`\n  max-width: 600px;\n  margin: 24px auto;\n`;\n\nexport const Image = styled.img`\n  max-width: 100%;\n  object-fit: cover;\n  margin: 0 auto;\n`;\n\nexport const Message = styled.p`\n  margin: 0 auto;\n  padding: 24px;\n  text-align: center;\n  color: #3f51b5;\n  font-size: 26px;\n  font-weight: 500;\n`;\n","import PropTypes from 'prop-types';\nimport { ErrorWrapper, Image, Message } from './ImageErrorView.styled';\n\nconst ImageErrorView = ({ imageURL, alt, width, message }) => {\n  return (\n    <ErrorWrapper role=\"alert\">\n      <Image src={imageURL} width={width} alt={alt} />\n      <Message>{message}</Message>\n    </ErrorWrapper>\n  );\n};\n\nImageErrorView.propTypes = {\n  imageURL: PropTypes.string,\n  alt: PropTypes.string,\n  massage: PropTypes.string,\n};\n\nexport default ImageErrorView;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'bb962418f002b21b8e856f495cf1a622';\n\nexport const fetchTrendingMovies = async (page = 1) => {\n  const { data } = await axios.get(\n    `/trending/movie/day?api_key=${API_KEY}&page=${page}`\n  );\n  return data.results;\n};\n\nexport const fetchSearchMovies = async (value, page = 1) => {\n  const searchParams = new URLSearchParams({\n    api_key: API_KEY,\n    language: 'en-US',\n    page: page,\n    include_adult: false,\n    query: value,\n  });\n  const { data } = await axios.get(`/search/movie?${searchParams}`);\n  return data;\n};\n\nexport const fetchMovieData = async movieId => {\n  const { data } = await axios.get(\n    `/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n  return data;\n};\n\nexport const fetchMovieCast = async movieId => {\n  const { data } = await axios.get(\n    `/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return data.cast;\n};\n\nexport const fetchMovieReviews = async movieId => {\n  const { data } = await axios.get(\n    `/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US`\n  );\n  return data.results;\n};\n"],"names":["ListStyled","styled","ItemStyled","ImageStyled","Name","Character","Message","useState","cast","setCast","error","setError","movieId","useParams","useEffect","fetchMovies","fetchMovieCast","response","length","console","message","toast","ImageErrorView","imageURL","imageError","alt","width","map","id","profile_path","name","character","src","placeholder","loading","ErrorWrapper","Image","role","axios","API_KEY","fetchTrendingMovies","page","data","results","fetchSearchMovies","value","searchParams","URLSearchParams","api_key","language","include_adult","query","fetchMovieData","fetchMovieReviews"],"sourceRoot":""}
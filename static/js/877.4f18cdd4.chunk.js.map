{"version":3,"file":"static/js/877.4f18cdd4.chunk.js","mappings":"yRA6DA,EArDa,WACX,OAAwBA,EAAAA,EAAAA,UAAS,IAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QAuBR,OArBAE,EAAAA,EAAAA,YAAU,WACRH,GAAS,GAET,IAAMI,EAAW,mCAAG,8GAEOC,EAAAA,EAAAA,IAAeJ,GAFtB,OAEVK,EAFU,OAKhBR,EAAQQ,GALQ,gDAOhBN,GAAS,GACTO,QAAQR,MAAM,KAAMS,SACpBC,EAAAA,GAAAA,MACE,sEAVc,yDAAH,qDAejBL,GACD,GAAE,CAACH,KAGF,2BACGF,IAAS,wBAAI,YACbF,EAAKa,OAAS,GACb,wBACGb,EAAKc,KAAI,YAA4C,IAAzCC,EAAwC,EAAxCA,GAAIC,EAAoC,EAApCA,aAAcC,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,UACnC,OACE,2BACE,gBACEC,IAAKH,EArCN,mCAqCmCA,EAAeI,EACjDC,IAAKJ,EACLK,QAAQ,OACRC,MAAM,SAER,wBAAKN,KACL,4CAAkBC,OARXH,EAWZ,OAGH,uBAAG,6DAIV,C,kMCzDDS,EAAAA,EAAAA,SAAAA,QAAyB,+BACzB,IAAMC,EAAU,mCAEHC,EAAmB,mCAAG,2GAAOC,EAAP,+BAAc,EAAd,SACVH,EAAAA,EAAAA,IAAA,sCACUC,EADV,iBAC0BE,IAFhB,uBACzBC,EADyB,EACzBA,KADyB,kBAI1BA,EAAKC,SAJqB,2CAAH,qDAOnBC,EAAiB,mCAAG,WAAOC,GAAP,gGAAcJ,EAAd,+BAAqB,EAC9CK,EAAe,IAAIC,gBAAgB,CACvCC,QAAST,EACTU,SAAU,QACVR,KAAMA,EACNS,eAAe,EACfC,MAAON,IANsB,SAQRP,EAAAA,EAAAA,IAAA,wBAA2BQ,IARnB,uBAQvBJ,EARuB,EAQvBA,KARuB,kBASxBA,GATwB,2CAAH,sDAYjBU,EAAc,mCAAG,WAAMlC,GAAN,yFACLoB,EAAAA,EAAAA,IAAA,iBACXpB,EADW,oBACQqB,EADR,oBADK,uBACpBG,EADoB,EACpBA,KADoB,kBAIrBA,GAJqB,2CAAH,sDAOdpB,EAAc,mCAAG,WAAMJ,GAAN,yFACLoB,EAAAA,EAAAA,IAAA,iBACXpB,EADW,4BACgBqB,EADhB,oBADK,uBACpBG,EADoB,EACpBA,KADoB,kBAIrBA,EAAK5B,MAJgB,2CAAH,sDAOduC,EAAiB,mCAAG,WAAMnC,GAAN,yFACRoB,EAAAA,EAAAA,IAAA,iBACXpB,EADW,4BACgBqB,EADhB,oBADQ,uBACvBG,EADuB,EACvBA,KADuB,kBAIxBA,EAAKC,SAJmB,2CAAH,qD","sources":["components/Cast/Cast.jsx","services/fetchAPI.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nimport { fetchMovieCast } from '../../services/fetchAPI';\nimport placeholder from '../../images/no-image.png';\nconst API_IMG_URL = `https://image.tmdb.org/t/p/w300/`;\n\nconst Cast = () => {\n  const [cast, setCast] = useState([]);\n  const [error, setError] = useState(null);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    setError(false);\n\n    const fetchMovies = async () => {\n      try {\n        const response = await fetchMovieCast(movieId);\n        // if (response.length === 0) setError(true);\n\n        setCast(response);\n      } catch (error) {\n        setError(true);\n        console.error(error.message);\n        toast.error(\n          'Oops! Something went wrong. Please, reload the page and try again.'\n        );\n      }\n    };\n\n    fetchMovies();\n  }, [movieId]);\n\n  return (\n    <div>\n      {error && <h3>Oops...</h3>}\n      {cast.length > 0 ? (\n        <ul>\n          {cast.map(({ id, profile_path, name, character }) => {\n            return (\n              <li key={id}>\n                <img\n                  src={profile_path ? API_IMG_URL + profile_path : placeholder}\n                  alt={name}\n                  loading=\"lazy\"\n                  width=\"120\"\n                />\n                <h4>{name}</h4>\n                <p>{`Character: ${character}`}</p>\n              </li>\n            );\n          })}\n        </ul>\n      ) : (\n        <p>We don't have information about the cast of this movie</p>\n      )}\n    </div>\n  );\n};\n\nexport default Cast;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'bb962418f002b21b8e856f495cf1a622';\n\nexport const fetchTrendingMovies = async (page = 1) => {\n  const { data } = await axios.get(\n    `/trending/movie/day?api_key=${API_KEY}&page=${page}`\n  );\n  return data.results;\n};\n\nexport const fetchSearchMovies = async (value, page = 1) => {\n  const searchParams = new URLSearchParams({\n    api_key: API_KEY,\n    language: 'en-US',\n    page: page,\n    include_adult: false,\n    query: value,\n  });\n  const { data } = await axios.get(`/search/movie?${searchParams}`);\n  return data;\n};\n\nexport const fetchMovieData = async movieId => {\n  const { data } = await axios.get(\n    `/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n  return data;\n};\n\nexport const fetchMovieCast = async movieId => {\n  const { data } = await axios.get(\n    `/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return data.cast;\n};\n\nexport const fetchMovieReviews = async movieId => {\n  const { data } = await axios.get(\n    `/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US`\n  );\n  return data.results;\n};\n"],"names":["useState","cast","setCast","error","setError","movieId","useParams","useEffect","fetchMovies","fetchMovieCast","response","console","message","toast","length","map","id","profile_path","name","character","src","placeholder","alt","loading","width","axios","API_KEY","fetchTrendingMovies","page","data","results","fetchSearchMovies","value","searchParams","URLSearchParams","api_key","language","include_adult","query","fetchMovieData","fetchMovieReviews"],"sourceRoot":""}